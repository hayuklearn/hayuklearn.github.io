import{_ as s,c as i,o as a,R as t}from"./chunks/framework.D6kTAKe3.js";const F=JSON.parse('{"title":"GIT 不常用命令","description":"","frontmatter":{},"headers":[],"relativePath":"VCS/GIT-不常用命令.md","filePath":"VCS/GIT-不常用命令.md"}'),e={name:"VCS/GIT-不常用命令.md"},h=t('<h1 id="git-不常用命令" tabindex="-1">GIT 不常用命令 <a class="header-anchor" href="#git-不常用命令" aria-label="Permalink to &quot;GIT 不常用命令&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#强制删除文件">强制删除文件</a></li><li><a href="#列出远端标签">列出远端标签</a></li><li><a href="#切换到指定标签">切换到指定标签</a></li><li><a href="#检出远端新分支">检出远端新分支</a></li><li><a href="#回退提交">回退提交</a></li><li><a href="#修改-push-文件大小限制">修改 push 文件大小限制</a></li><li><a href="#文件太大-push-失败-只好移除-commit-里的大文件">文件太大 push 失败，只好移除 commit 里的大文件</a></li></ul></nav><h2 id="强制删除文件" tabindex="-1">强制删除文件 <a class="header-anchor" href="#强制删除文件" aria-label="Permalink to &quot;强制删除文件&quot;">​</a></h2><p>针对误提交的文件，使用下面方法进行删除，前提是主分支关闭了<strong>分支保护</strong>开关</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filter-branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --index-filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;git rm --cached -r --ignore-unmatch ${PATH_OF_FILE_YOU_WANNA_REMOVE}&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prune-empty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tag-name-filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> master</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><p><a href="https://blog.51cto.com/phpervip/2497305" target="_blank" rel="noreferrer">https://blog.51cto.com/phpervip/2497305</a></p><p><a href="https://help.github.com/articles/remove-sensitive-data" target="_blank" rel="noreferrer">https://help.github.com/articles/remove-sensitive-data</a></p><h2 id="列出远端标签" tabindex="-1">列出远端标签 <a class="header-anchor" href="#列出远端标签" aria-label="Permalink to &quot;列出远端标签&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls-remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tags</span></span></code></pre></div><h2 id="切换到指定标签" tabindex="-1">切换到指定标签 <a class="header-anchor" href="#切换到指定标签" aria-label="Permalink to &quot;切换到指定标签&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${TAG_NAME}</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${BRANCH_NAME} ${TAG_NAME}</span></span></code></pre></div><h2 id="检出远端新分支" tabindex="-1">检出远端新分支 <a class="header-anchor" href="#检出远端新分支" aria-label="Permalink to &quot;检出远端新分支&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${BRANCH_NAME} </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">origin/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${BRANCH_NAME}</span></span></code></pre></div><h2 id="回退提交" tabindex="-1">回退提交 <a class="header-anchor" href="#回退提交" aria-label="Permalink to &quot;回退提交&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HEAD^</span></span></code></pre></div><p>or</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HEAD^</span></span></code></pre></div><p>然后</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><h2 id="修改-push-文件大小限制" tabindex="-1">修改 push 文件大小限制 <a class="header-anchor" href="#修改-push-文件大小限制" aria-label="Permalink to &quot;修改 push 文件大小限制&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http.postBuffer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 524288000</span></span></code></pre></div><h2 id="文件太大-push-失败-只好移除-commit-里的大文件" tabindex="-1">文件太大 push 失败，只好移除 commit 里的大文件 <a class="header-anchor" href="#文件太大-push-失败-只好移除-commit-里的大文件" aria-label="Permalink to &quot;文件太大 push 失败，只好移除 commit 里的大文件&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filter-branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tree-filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rm -f ${BIG_FILE}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HEAD</span></span></code></pre></div>',23),l=[h];function p(n,k,r,d,o,c){return a(),i("div",null,l)}const u=s(e,[["render",p]]);export{F as __pageData,u as default};
